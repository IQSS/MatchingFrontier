<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate a matchit object a a point along the frontier — frontier_to_matchit • MatchingFrontier</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a matchit object a a point along the frontier — frontier_to_matchit"><meta property="og:description" content="generateDataset() generates a matchit object at a given point along the frontier identified either by the number of units remaining or the number of units dropped at that point on the frontier. All MatchIt functions that work with matchit objects can be used on the output, such as summary.matchit() for checking balance."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MatchingFrontier</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/MatchingFrontier.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/psm-paradox.html">Examining the Propensity Score Matching Paradox</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/IQSS/MatchingFrontier/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a <code>matchit</code> object a a point along the frontier</h1>
    
    <div class="hidden name"><code>frontier_to_matchit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code><a href="generateDataset.html">generateDataset()</a></code> generates a <code>matchit</code> object at a given point along the frontier identified either by the number of units remaining or the number of units dropped at that point on the frontier. All <span class="pkg">MatchIt</span> functions that work with <code>matchit</code> objects can be used on the output, such as <code><a href="https://kosukeimai.github.io/MatchIt/reference/summary.matchit.html" class="external-link">summary.matchit()</a></code> for checking balance.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">frontier_to_matchit</span><span class="op">(</span><span class="va">frontier.object</span>, <span class="va">N</span>, <span class="va">Ndrop</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>frontier.object</dt>
<dd><p>a <code>matchFrontier</code> object; the output of a call to <code><a href="makeFrontier.html">makeFrontier()</a></code>.</p></dd>

  <dt>N</dt>
<dd><p>the number of units remaining in the sample at the desired point on the frontier. Exactly one of <code>N</code> or <code>Ndrop</code> must be specified.</p></dd>

  <dt>Ndrop</dt>
<dd><p>the number of units dropped in the sample at the desired point on the frontier. Exactly one of <code>N</code> or <code>Ndrop</code> must be specified.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The argument to <code>N</code> or <code>Ndrop</code> depend on the quantity of interest (QOI) supplied to the original call to <code><a href="makeFrontier.html">makeFrontier()</a></code>. When <code>QOI</code> was <code>"SATE"</code> or <code>"FSATE"</code>, they correspond to the total number of units remaining or dropped. When <code>QOI</code> was <code>"SATT"</code>, they correspond to the number of control units remaining or dropped (since no treated units are dropped). When <code>QOI</code> was <code>"FSATT"</code>, they correspond to the number of treated units remaining or dropped. See also the <code>n</code> component of the <code>matchFrontier</code> object at <code><a href="makeFrontier.html">makeFrontier()</a></code>. When using <code><a href="summary.matchFrontier.html">summary.matchFrontier()</a></code>, the carrot printed underneath the summary table indicates which group <code>N</code> and <code>Ndrop</code> refer to.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <code>matchit</code> object. See <code><a href="https://kosukeimai.github.io/MatchIt/reference/matchit.html" class="external-link">matchit()</a></code> for further details. The following components are included in the output:</p>
<dl><dt>match.matrix</dt>
<dd><p>a matrix containing information on which units are matched to which. Only present when using a pair distance=based         frontier.</p></dd>

<dt>weights</dt>
<dd><p>the resulting matching weights. Dropped units will have a weight of 0.</p></dd>

<dt>X</dt>
<dd><p>a data frame of the covariates used in matching.</p></dd>

<dt>call</dt>
<dd><p>the <code><a href="makeFrontier.html">makeFrontier()</a></code> call.</p></dd>

<dt>info</dt>
<dd><p>information on the matching method and distance measures used, to be processed by <code>print.matchit()</code>.</p></dd>

<dt>estimand</dt>
<dd><p>the target estimand. Will be <code>"ATE"</code> when <code>QOI</code> is <code>"SATE"</code> or <code>"FSATE"</code>, and will be <code>"ATT"</code> when     <code>QOI</code> is <code>"SATT"</code> or <code>"FSATT"</code>.</p></dd>

<dt>formula</dt>
<dd><p>a formula relating the treatment to the matching covariates.</p></dd>

<dt>treat</dt>
<dd><p>a vector of treatment status converted to zeros (0) and ones (1) if not already in that format.</p></dd>

<dt>nn</dt>
<dd><p>a matrix of the sample sizes of the treated and control groups before and after matching.</p></dd>

</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="generateDataset.html">generateDataset()</a></code>, <code><a href="https://kosukeimai.github.io/MatchIt/reference/matchit.html" class="external-link">MatchIt::matchit()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"lalonde"</span>, package <span class="op">=</span> <span class="st">"MatchIt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Pair distance frontier for FSATT</span></span></span>
<span class="r-in"><span><span class="va">f1</span> <span class="op">&lt;-</span> <span class="fu"><a href="makeFrontier.html">makeFrontier</a></span><span class="op">(</span><span class="va">treat</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">educ</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span> <span class="va">re74</span>,</span></span>
<span class="r-in"><span>                   data <span class="op">=</span> <span class="va">lalonde</span>, QOI <span class="op">=</span> <span class="st">"FSATT"</span>,</span></span>
<span class="r-in"><span>                   metric <span class="op">=</span> <span class="st">"dist"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">f1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="frontier_to_matchit-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Convert to matchit object after dropping 120 treated units</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu">frontier_to_matchit</span><span class="op">(</span><span class="va">f1</span>, Ndrop <span class="op">=</span> <span class="fl">120</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Usual MatchIt functions work</span></span></span>
<span class="r-in"><span><span class="va">m1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A matchit object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - method: 1:1 matching frontier (minimizing the average pairwise distance)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - number of obs.: 614 (original), 99 (matched)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - target estimand: ATT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - covariates: age, educ, married, re74</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> makeFrontier(formula = treat ~ age + educ + married + re74, data = lalonde, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     QOI = "FSATT", metric = "dist", verbose = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary of Balance for All Data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age           25.8162       28.0303         -0.3094     0.4400    0.0813</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> educ          10.3459       10.2354          0.0550     0.4959    0.0347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> married        0.1892        0.5128         -0.8263          .    0.3236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> re74        2095.5737     5619.2365         -0.7211     0.5181    0.2248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         eCDF Max</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age       0.1577</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> educ      0.1114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> married   0.3236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> re74      0.4470</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary of Balance for Matched Data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age           21.5846       21.4615          0.0172     0.9488    0.0092</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> educ          10.4308       10.4308          0.0000     0.9683    0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> married        0.1231        0.1231          0.0000          .    0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> re74         256.9393      265.0737         -0.0017     0.9027    0.0071</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         eCDF Max Std. Pair Dist.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age       0.0769          0.0602</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> educ      0.0000          0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> married   0.0000          0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> re74      0.0923          0.0135</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sample Sizes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Control Treated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> All            429.       185</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matched (ESS)   21.45      65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matched         34.        65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Unmatched      395.       120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Discarded        0.         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gary King, Christopher Lucas, Richard Nielsen, Noah Greifer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

